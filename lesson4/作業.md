### 問題6.總死亡數最高的國家

```sql
SELECT MIN(日期) AS 最早日期, MAX(日期) AS 最晚日期
FROM world;

SELECT 國家,SUM(總死亡數) as 總死亡數
From world
WHERE 日期 BETWEEN '2020-01-01' AND '2022-07-06'  
  AND 國家 NOT LIKE '%全球%'  -- 排除包含「全球」的資料（可選）
GROUP BY 國家
ORDER BY 總死亡數 DESC
LIMIT 1;
```

| 國家 | 總死亡數 |
| --- | --- |
| 美國 | 450546270｜

### 問題8.排序各國確診數
```sql
SELECT MIN(日期) AS 最早日期, MAX(日期) AS 最晚日期
FROM world;

SELECT 國家, SUM(總確診數) AS 總確診數
FROM world
WHERE 日期 BETWEEN '2020-01-01' AND '2022-07-06'  
  AND 國家 NOT LIKE '%全球%'  -- 排除包含「全球」的資料（可選）
GROUP BY 國家
ORDER BY 總確診數 DESC;
LIMIT 5;
```
| 國家 | 總確診數 |
| --- | --- |
| 美國 | 29779934309｜
| 印度 | 18180768089｜
| 巴西 | 12512257406｜
| 法國 | 6960054547｜
| 英國 | 6172597580｜

上面的不太合理

修改為
```
-- 查詢指定日期區間內，各國每日確診數的最高值，再依該最高值排序，取前5名
SELECT 國家, MAX(日最高確診數) AS 最高每日確診數
FROM (
    SELECT 國家, 日期, 總確診數 AS 日最高確診數
    FROM world
    WHERE 日期 BETWEEN '2020-01-01' AND '2022-07-06'
      AND 國家 NOT LIKE '%全球%'
) AS 每日確診
GROUP BY 國家
ORDER BY 最高每日確診數 DESC
LIMIT 5;

```
| 國家 | 總確診數 | 總確診數 |
| --- | --- |
| 美國 | ｜
| 印度 | ｜
| 巴西 | ｜
| 法國 | ｜
| 英國 | ｜

###驗算
```
WITH 最高每日確診 AS (
    SELECT 國家, 日期, 總確診數
    FROM world
    WHERE 日期 BETWEEN '2020-01-01' AND '2022-07-06'
      AND 國家 NOT LIKE '%全球%'
),
每國最高確診 AS (
    SELECT 國家, MAX(總確診數) AS 最高確診數
    FROM 最高每日確診
    GROUP BY 國家
)
SELECT h.國家, h.日期, h.總確診數 AS 最高每日確診數
FROM 最高每日確診 h
JOIN 每國最高確診 m
  ON h.國家 = m.國家 AND h.總確診數 = m.最高確診數
ORDER BY h.總確診數 DESC
LIMIT 5;
```

### 問題5. 查詢亞洲台灣 2020-06-25 的總確診數
```sql
SELECT 國家, SUM(總確診數) AS 總確診數  --如果資料是每日多筆資料（例如分不同城市或來源），且需要加總確診數時使用
FROM world
WHERE 洲名 = '亞洲'
  AND 國家 = '台灣'
  AND 日期 = '2020-06-25'
GROUP BY 國家;
```
| 國家 | 總確診數 |
| --- | --- |
| 台灣 | 447｜

### 問題14.查詢哪個國家總確診數最少
```sql
SELECT MIN(日期) AS 最早日期, MAX(日期) AS 最晚日期
FROM world;

SELECT 國家,SUM(總死亡數) as 總死亡數
From world
WHERE 日期 BETWEEN '2020-01-01' AND '2022-07-06'  
  AND 國家 NOT LIKE '%全球%'  -- 排除包含「全球」的資料（可選）
GROUP BY 國家
ORDER BY 總死亡數 ASC
LIMIT 1;

```

| 國家 | 總確診數 |
| --- | --- |
| 北賽普勒斯 | 0｜

###驗算
SELECT 日期, 總死亡數 AS 總死亡人數
FROM world
WHERE 國家 = '北賽普勒斯'
ORDER BY 總死亡數 DESC

### 問題17.哪一日死亡人數最多
```sql
SELECT 日期, SUM(總死亡數) AS 總死亡人數
FROM world
WHERE 國家 <> '全球'          -- 排除國家是「全球」的資料
GROUP BY 日期
ORDER BY 總死亡人數 DESC
LIMIT 1;   
```
| 日期 | 總死亡數 |
| --- | --- |
| 2022-07-06 | 6341574｜

 ###方法2

```
SELECT 日期, 死亡數 AS 總死亡人數
FROM world
WHERE 國家 = '全球'
ORDER BY 死亡數 DESC
LIMIT 1;
```
| 日期 | 總死亡人數 |
| --- | --- |
| 2022-07-06 | 6344729｜


